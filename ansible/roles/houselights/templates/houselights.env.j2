# Managed by Ansible - houselights controller environment
FLASK_ENV=production
FLASK_APP=src/app.py
FLASK_RUN_HOST=0.0.0.0
FLASK_RUN_PORT={{ houselights_service_port }}

HOUSELIGHTS_GPIO_PIN={{ houselights_app.gpio_pin | default(4) }}
HOUSELIGHTS_LED_COUNT={{ houselights_app.led_count | default(50) }}
HOUSELIGHTS_WEB_PORT={{ houselights_service_port }}
HOUSELIGHTS_HEARTBEAT_INTERVAL={{ houselights_heartbeat_interval }}
HOUSE_LIGHTS_GPIO_PINS={{ houselights_app.gpio_pins_env | default(houselights_app.gpio_pin) }}
HOUSE_LIGHTS_LIGHT_RANGES={{ houselights_app.light_ranges | default('not-configured') }}

# Add any extra environment variables defined in host vars
{% for key, value in houselights_env | default({}) | dictsort %}
{{ key }}={{ value }}
{% endfor %}

